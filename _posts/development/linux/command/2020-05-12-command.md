---
title: "Linux常用命令"
subtitle: ""
layout: post
author: "luoruiqing"
header-style: text
catalog:    true
tags:
  - linux
  - shell
---


## 手册

#### 命令大全

- [Linux命令大全](https://man.linuxde.net/)
- [https://ss64.com/bash/](https://ss64.com/bash/)
- [https://www.tecmint.com/linux-commands-cheat-sheet/](https://www.tecmint.com/linux-commands-cheat-sheet/)
- [https://www.howtogeek.com/412055/37-important-linux-commands-you-should-know/](https://www.howtogeek.com/412055/37-important-linux-commands-you-should-know/)

--- 

**下面摘录一下比较常用的命令, 按分类记录**

## 网络

#### 连通性

```sh
##################################################################
# 域名连通性 =============================================
ping <域名> # ping www.baidu.com
nslookup <域名> # nslookup www.baidu.com

# IP连通性 ==============================================
ping <域名> # ping www.baidu.com
traceroute <域名> # traceroute www.baidu.com

# 端口连通性 =============================================
telnet <域名> <端口> # telnet 220.181.112.244 80
nc <域名> <端口> -v # nc 220.181.112.244 80 -v
curl <URL> -v # curl http://220.181.112.244:80 -v
###################################################################
```

#### IP获取

```sh
##################################################################
# 外网IP
curl icanhazip.com
curl ifconfig.me
curl curlmyip.com
curl ip.appspot.com
curl ipinfo.io/ip
curl ipecho.net/plain
curl www.trackip.net/i
# 内网IP

##################################################################
```
#### SSH

```sh
##################################################################
# 登录
ssh <用户名>@<IP> # 登录
ssh-copy-id <用户名>@<IP> # 添加密钥/免密登录
ssh <用户名>@<IP> "<命令>" # 执行命令
##################################################################
```


## 文本

#### 日期

```sh
##################################################################
# 日期
DATE_NOW=$(date "+%Y%m%d_%H%M")
# 毫秒
# ...
# 时间戳
# ...
##################################################################
```

#### 字符

- `cat`: 查看文件, 输出到流
- `grep`: 过滤文本
- `awk`: 过滤文本, 根据模式匹配筛选
- `sort`: 排序
- `uniq`: 去重
- `head`: 查看文件头的几行文本
- `tail`: 查看文件尾的几行文本

```sh
##################################################################
# 过滤Nginx 日志内的IP地址并统计出现的次数
# awk
awk '{print $1}' # 默认根据空格切割
awk '{print $1}' ./access.log | sort | uniq -c | sort -nr -k1 | head -n 10
##################################################################
```

## 进程

#### 过滤并杀死进程

```sh
ps -ef | grep <任务> | grep -v grep | cut -c 9-15 | xargs kill -s 9
```

## 文件

#### 查看

```sh
##################################################################
# 文件列表
ls -lh # 展示文件并格式化占用大小
# 文件
##################################################################
```
#### 复制移动
```sh
##################################################################
# 复制
cp -rv <源目录> <目标目录> # 复制并覆盖
# 移动
mv <源目录> <目标目录>
# 软链
# ls ...
##################################################################
```


#### 压缩
```sh
##################################################################
# zip 
zip -r <包名>.zip <目录> # 压缩
unzip <包名> <路径> # 解压
unzip -o <包名> <路径> # 解压并覆盖
unzip -o <包名> -d <路径> # 解压到指定路径并覆盖 # unzip -o /tmp/dist.zip -d ./
# tra.gz
# ...
##################################################################
```
