---
title: "Docker安装 Superset"
subtitle: ""
layout: post
author: "luoruiqing"
header-style: text
catalog:    true
tags:
  - Docker
  - Superset
---

## Docker安装

- 查找镜像
- 拉取镜像
- 启动
- 初始化数据库
- 完成


#### 查找镜像

- [hub.docker.com](https://hub.docker.com/r/amancevice/superset) 搜索
- 命令行
    ```sh
    # 选择其中一个镜像, 复制其`NAME`列
    docker search superset
    # NAME                           DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED
    # amancevice/superset            Superset on Debian+Python3                      245                                     [OK]
    # ...
    ```

#### 拉取镜像

这里选择了 `amancevice/superset` 镜像, 执行命令:
```sh
docker pull amancevice/superset
# Using default tag: latest
# latest: Pulling from amancevice/superset
# 90fe46dd8199: Downloading
# 35a4f1977689: Download complete
# bbc37f14aded: Downloading
# 74e27dc593d4: Download complete
# 4352dcff7819: Download complete
# 1847e662e737: Download complete
# 11d40aa4a4d0: Download complete
# 423a225c2f8b: Download complete
# b3cdb3cfe4ca: Download complete
# d84ca76f5ef7: Download complete
# 29605419eaab: Download complete
# 0f21f36b180d: Download complete
# 3e3aea33f6ef: Download complete
# latest: Pulling from amancevice/superset
# 90fe46dd8199: Pull complete
# 35a4f1977689: Pull complete
# bbc37f14aded: Pull complete
# 74e27dc593d4: Pull complete
# 4352dcff7819: Pull complete
# 1847e662e737: Pull complete
# 11d40aa4a4d0: Pull complete
# 423a225c2f8b: Pull complete
# b3cdb3cfe4ca: Pull complete
# d84ca76f5ef7: Pull complete
# 29605419eaab: Pull complete
# 0f21f36b180d: Pull complete
# 3e3aea33f6ef: Pull complete
# Digest: sha256:1f7e88850066141a60feac844834deeee25fe0d8ca8e612144e4c83ca0648e84
# Status: Downloaded newer image for amancevice/superset:latest
# docker.io/amancevice/superset:latest
```

#### 启动

```sh
# docker run --rm -d  -p <本机端口>:<容器端口>/<协议类型> <镜像名称>:<版本>
docker run --rm -d  -p 8088:8088/tcp amancevice/superset:latest
```

**查看容器ID**

```sh
docker ps -a
# CONTAINER ID        IMAGE                        COMMAND                  CREATED             STATUS                   PORTS                    NAMES
# f39bfa6ed149        amancevice/superset:latest   "gunicorn superset.a…"   4 minutes ago       Up 4 minutes (healthy)   0.0.0.0:8088->8088/tcp   hopeful_leakey
```

如果容器ID存在, 则使用浏览器打开 [http://localhost:8088](http://localhost:8088)


#### 初始化数据库

**获取容器ID:**

```sh
# 设置镜像名称变量
IMAGE=amancevice/superset
# 获取镜像ID
CID=`docker ps | grep $IMAGE | awk '{print $1}'`
# 初始化系统并创建管理员
docker exec -it $CID superset-init
```

#### 完成

图片


## 映射配置



## 综合例子

```sh
# 自动安装并启动
docker pull amancevice/superset
docker run --rm -d  -p 8088:8088/tcp amancevice/superset:latest
IMAGE=amancevice/superset
CID=`docker ps | grep $IMAGE | awk '{print $1}'`
# 这里需要输入管理员账号密码
docker exec -it $CID superset-init
```
